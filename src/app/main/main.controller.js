(function() {
  'use strict';

  angular
    .module('watsonEntityViewer')
    .controller('MainController', MainController);

  /** @ngInject */
  function MainController($timeout, webDevTec, Search) {
    var vm = this;
    window.vm = vm;

    vm.awesomeThings = [];
    vm.entities = [];
    vm.classAnimation = '';
    vm.creationDate = 1456420904899;
    vm.search = search;
    vm.searchString = '';

    activate();

    function activate() {
      $timeout(function() {
        vm.classAnimation = 'rubberBand';
      }, 4000);
    }

    /*function search(searchString) {
      Search.query({search: searchString})
        .$promise.then(function(result) {
          vm.entities = result;
        });
    };*/

    function getWebDevTec() {
      vm.awesomeThings = webDevTec.getTec();

      angular.forEach(vm.awesomeThings, function(awesomeThing) {
        awesomeThing.rank = Math.random();
      });
    }

    function search(searchString) {
      vm.entities = [
          {
          "h-index":"48","coauthor-count":"670","affiliation-current":{"affiliation":{"@affiliation-id":"60009343","ip-doc":{"@id":"60009343","@relationship":"author","@type":"parent","afnameid":"Memorial Sloan-Kettering Cancer Center#60009343","afdispname":"Memorial Sloan-Kettering Cancer Center","preferred-name":"Memorial Sloan-Kettering Cancer Center","sort-name":"Memorial Sloan-Kettering Cancer Center","address":{"@country":"usa","address-part":"1275 York Avenue","city":"New York","state":"NY","postal-code":"10021","country":"United States"},"org-domain":"mskcc.org","org-URL":"http://www.mskcc.org/mskcc/html/44.cfm"}}},"dc:identifier":"AUTHOR_ID:26643057100","document-count":"276","cited-by-count":"4889","name":"Ola L A Landgren","articles":[{"@_fa":"true","prism:url":"http://api.elsevier.com/content/abstract/scopus_id/84964048543","dc:creator":"Bhutani M.","prism:issn":"10428194","prism:eIssn":"10292403","citedby-count":"0","affiliation":[{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60013409","afid":"60013409","affilname":"National Cancer Institute","name-variant":[{"@_fa":"true","$":"National Cancer Institute"}],"affiliation-city":"Bethesda","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60017501","afid":"60017501","affilname":"Carolinas HealthCare System","name-variant":[{"@_fa":"true","$":"Carolinas HealthCare System"}],"affiliation-city":"Charlotte","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60013409","afid":"60013409","affilname":"National Cancer Institute","name-variant":[{"@_fa":"true","$":"National Cancer Institute"}],"affiliation-city":"Bethesda","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60009343","afid":"60009343","affilname":"Memorial Sloan-Kettering Cancer Center","name-variant":[{"@_fa":"true","$":"Memorial Sloan-Kettering Cancer Center"}],"affiliation-city":"New York","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60015023","afid":"60015023","affilname":"University of Texas M. D. Anderson Cancer Center","name-variant":[{"@_fa":"true","$":"University of Texas"}],"affiliation-city":"Houston","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60003711","afid":"60003711","affilname":"University of Pennsylvania, School of Medicine","name-variant":[{"@_fa":"true","$":"University of Pennsylvania School of Medicine"}],"affiliation-city":"Philadelphia","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60006577","afid":"60006577","affilname":"National Institutes of Health, Bethesda","name-variant":[{"@_fa":"true","$":"NIH"}],"affiliation-city":"Bethesda","affiliation-country":"United States"}],"doi":"10.3109/10428194.2015.1090572","title":"Bone marrow abnormalities and early bone lesions in multiple myeloma and its precursor disease: a prospective study using functional and morphologic imaging","journalName":"Leukemia and Lymphoma"},{"@_fa":"true","prism:url":"http://api.elsevier.com/content/abstract/scopus_id/84963768563","dc:creator":"Hofmann J.","prism:issn":"00085472","prism:eIssn":"15387445","citedby-count":"0","affiliation":[{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60013409","afid":"60013409","affilname":"National Cancer Institute","name-variant":[{"@_fa":"true","$":"National Cancer Institute"}],"affiliation-city":"Bethesda","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60016782","afid":"60016782","affilname":"Brigham and Women's Hospital","name-variant":[{"@_fa":"true","$":"Brigham and Women's Hospital"}],"affiliation-city":"Boston","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60007161","afid":"60007161","affilname":"American Cancer Society","name-variant":[{"@_fa":"true","$":"American Cancer Society"}],"affiliation-city":"Atlanta","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60002494","afid":"60002494","affilname":"McGill University","name-variant":[{"@_fa":"true","$":"McGill University"}],"affiliation-city":"Montreal","affiliation-country":"Canada"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60032499","afid":"60032499","affilname":"Harvard School of Public Health","name-variant":[{"@_fa":"true","$":"Harvard School of Public Health"}],"affiliation-city":"Boston","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60022756","afid":"60022756","affilname":"Washington University in St. Louis, School of Medicine","name-variant":[{"@_fa":"true","$":"Washington University, School of Medicine"}],"affiliation-city":"St Louis","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60014662","afid":"60014662","affilname":"Drexel University","name-variant":[{"@_fa":"true","$":"Drexel University"}],"affiliation-city":"Philadelphia","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60001052","afid":"60001052","affilname":"Cancer Council Victoria","name-variant":[{"@_fa":"true","$":"The Cancer Council Victoria"}],"affiliation-city":"Carlton","affiliation-country":"Australia"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60002388","afid":"60002388","affilname":"Albert Einstein College of Medicine of Yeshiva University","name-variant":[{"@_fa":"true","$":"Albert Einstein College of Medicine"}],"affiliation-city":"New York","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60009343","afid":"60009343","affilname":"Memorial Sloan-Kettering Cancer Center","name-variant":[{"@_fa":"true","$":"Memorial Sloan-Kettering Cancer Center"}],"affiliation-city":"New York","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60003625","afid":"60003625","affilname":"Fred Hutchinson Cancer Research Center","name-variant":[{"@_fa":"true","$":"Fred Hutchinson Cancer Research Center"}],"affiliation-city":"Seattle","affiliation-country":"United States"}],"doi":"10.1158/0008-5472.CAN-15-2406","title":"Low levels of circulating adiponectin are associated with multiple myeloma risk in overweight and obese individuals","journalName":"Cancer Research"},{"@_fa":"true","prism:url":"http://api.elsevier.com/content/abstract/scopus_id/84953260012","dc:creator":"Afifi S.","prism:issn":"02683369","prism:eIssn":"14765365","citedby-count":"0","affiliation":[{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60009343","afid":"60009343","affilname":"Memorial Sloan-Kettering Cancer Center","name-variant":[{"@_fa":"true","$":"Memorial Sloan-Kettering Cancer Center"}],"affiliation-city":"New York","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60009343","afid":"60009343","affilname":"Memorial Sloan-Kettering Cancer Center","name-variant":[{"@_fa":"true","$":"Memorial Sloan-Kettering Cancer Center"}],"affiliation-city":"New York","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60009343","afid":"60009343","affilname":"Memorial Sloan-Kettering Cancer Center","name-variant":[{"@_fa":"true","$":"Memorial Sloan-Kettering Cancer Center"}],"affiliation-city":"New York","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60009343","afid":"60009343","affilname":"Memorial Sloan-Kettering Cancer Center","name-variant":[{"@_fa":"true","$":"Memorial Sloan-Kettering Cancer Center"}],"affiliation-city":"New York","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60009343","afid":"60009343","affilname":"Memorial Sloan-Kettering Cancer Center","name-variant":[{"@_fa":"true","$":"Memorial Sloan-Kettering Cancer Center"}],"affiliation-city":"New York","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60007997","afid":"60007997","affilname":"Weill Cornell Medical College","name-variant":[{"@_fa":"true","$":"Cornell University Medical College"}],"affiliation-city":"New York","affiliation-country":"United States"}],"doi":"10.1038/bmt.2015.322","title":"Upfront plerixafor plus G-CSF versus cyclophosphamide plus G-CSF for stem cell mobilization in multiple myeloma: Efficacy and cost analysis study","journalName":"Bone Marrow Transplantation"},{"@_fa":"true","prism:url":"http://api.elsevier.com/content/abstract/scopus_id/84962439585","dc:creator":"Jonsdottir G.","prism:issn":"03906078","prism:eIssn":"15928721","citedby-count":"0","affiliation":[{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60071113","afid":"60071113","affilname":"University of Iceland","name-variant":[{"@_fa":"true","$":"University of Iceland"}],"affiliation-city":"Reykjavik","affiliation-country":"Iceland"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60019295","afid":"60019295","affilname":"Karolinska University Hospital","name-variant":[{"@_fa":"true","$":"Karolinska University Hospital"}],"affiliation-city":"Stockholm","affiliation-country":"Sweden"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60010392","afid":"60010392","affilname":"Malmo University Hospital","name-variant":[{"@_fa":"true","$":"Malmö University Hospital"}],"affiliation-city":"Malmo","affiliation-country":"Sweden"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60031040","afid":"60031040","affilname":"Umea universitet","name-variant":[{"@_fa":"true","$":"Umeå University"}],"affiliation-city":"Umea","affiliation-country":"Sweden"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60013409","afid":"60013409","affilname":"National Cancer Institute","name-variant":[{"@_fa":"true","$":"National Cancer Institute"}],"affiliation-city":"Bethesda","affiliation-country":"United States"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60031699","afid":"60031699","affilname":"Sahlgrenska Universitetssjukhuset","name-variant":[{"@_fa":"true","$":"Sahlgrenska University Hospital"}],"affiliation-city":"Molndal","affiliation-country":"Sweden"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60023022","afid":"60023022","affilname":"Toronto General Hospital","name-variant":[{"@_fa":"true","$":"Toronto Hospital"}],"affiliation-city":"Toronto","affiliation-country":"Canada"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60009343","afid":"60009343","affilname":"Memorial Sloan-Kettering Cancer Center","name-variant":[{"@_fa":"true","$":"Memorial Sloan-Kettering Cancer Center"}],"affiliation-city":"New York","affiliation-country":"United States"}],"doi":"10.3324/haematol.2015.134049","title":"Survival in multiple myeloma patients who develop second malignancies: A population-based cohort study","journalName":"Haematologica"}],"id":"26643057100","score":674.0759999999999
          },
          {
          "h-index":"71","coauthor-count":"1633","affiliation-current":{"affiliation":{"@affiliation-id":"113882534","@parent":"60028048","ip-doc":{"@id":"113882534","@relationship":"author","@type":"dept","afdispname":"Centre Hospitalier Universitaire de Nantes, Department of Hematology","preferred-name":"Department of Hematology","parent-preferred-name":"Centre Hospitalier Universitaire de Nantes","sort-name":"Department of Hematology","address":{"@country":"fra","city":"Nantes","country":"France"},"org-domain":"chu-nantes.fr","org-URL":"http://www.chu-nantes.fr/02-SiteWeb/index.htm"}}},"dc:identifier":"AUTHOR_ID:14527450700","document-count":"430","cited-by-count":"10557","name":"Philippe H. Moreau","articles":[{"@_fa":"true","prism:url":"http://api.elsevier.com/content/abstract/scopus_id/84964553536","dc:creator":"Moreau P.","prism:issn":"00126667","prism:eIssn":"11791950","citedby-count":"0","affiliation":[{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60025861","afid":"60025861","affilname":"Hotel Dieu CHU de Nantes","name-variant":[{"@_fa":"true","$":"CHU Hôtel Dieu"}],"affiliation-city":"Nantes","affiliation-country":"France"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60001997","afid":"60001997","affilname":"VU University Medical Center","name-variant":[{"@_fa":"true","$":"Free University Hospital"}],"affiliation-city":"Amsterdam","affiliation-country":"Netherlands"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60019454","afid":"60019454","affilname":"Hospital de Navarra","name-variant":[{"@_fa":"true","$":"Hospital Virgen del Camino"}],"affiliation-city":"Pamplona","affiliation-country":"Spain"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60019295","afid":"60019295","affilname":"Karolinska University Hospital","name-variant":[{"@_fa":"true","$":"Karolinska University Hospital"}],"affiliation-city":"Stockholm","affiliation-country":"Sweden"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60000087","afid":"60000087","affilname":"Hadassah University Medical Centre","name-variant":[{"@_fa":"true","$":"Hadassah University Hospital"}],"affiliation-city":"Jerusalem","affiliation-country":"Israel"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/100784797","afid":"100784797","affilname":"University School of Medicine","name-variant":[{"@_fa":"true","$":"School of Medicine"}],"affiliation-city":"Bologna","affiliation-country":"Italy"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60020454","afid":"60020454","affilname":"St James's University Hospital","name-variant":[{"@_fa":"true","$":"St James's University Hospital"}],"affiliation-city":"Leeds","affiliation-country":"United Kingdom"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60025063","afid":"60025063","affilname":"KU Leuven","name-variant":[{"@_fa":"true","$":"University of Leuven"}],"affiliation-city":"3000 Leuven","affiliation-country":"Belgium"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60012689","afid":"60012689","affilname":"Julius-Maximilians-Universitat Wurzburg","name-variant":[{"@_fa":"true","$":"University of Würzburg"}],"affiliation-city":"Wurzburg","affiliation-country":"Germany"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60000713","afid":"60000713","affilname":"Wiener Krakenanstaltenverbund","name-variant":[{"@_fa":"true","$":"Wilhelminen Hospital"}],"affiliation-city":"Vienna","affiliation-country":"Austria"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60022646","afid":"60022646","affilname":"Kantonsspital St Gallen","name-variant":[{"@_fa":"true","$":"Cantonal Hospital St. Gallen"}],"affiliation-city":"St Gallen","affiliation-country":"Switzerland"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60012259","afid":"60012259","affilname":"Universita degli Studi di Torino","name-variant":[{"@_fa":"true","$":"University of Torino"}],"affiliation-city":"Torino","affiliation-country":"Italy"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60017724","afid":"60017724","affilname":"Centre Hospitalier Regional Universitaire de Lille","name-variant":[{"@_fa":"true","$":"CHU"}],"affiliation-city":"Lille","affiliation-country":"France"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60019160","afid":"60019160","affilname":"Syddansk Universitet","name-variant":[{"@_fa":"true","$":"University of Southern Denmark"}],"affiliation-city":"Odense","affiliation-country":"Denmark"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60067083","afid":"60067083","affilname":"University of Athens Medical School","name-variant":[{"@_fa":"true","$":"University of Athens"}],"affiliation-city":"Athens","affiliation-country":"Greece"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60017134","afid":"60017134","affilname":"Justus Liebig University Giessen","affiliation-city":"Giessen","affiliation-country":"Germany"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/113198880","afid":"113198880","affilname":"Erasmus MC Cancer Institute","name-variant":[{"@_fa":"true","$":"Erasmus MC Cancer Institute"}],"affiliation-city":"Rotterdam","affiliation-country":"Netherlands"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60028352","afid":"60028352","affilname":"Hospital Universitario de Salamanca","name-variant":[{"@_fa":"true","$":"Hospital Universitario"}],"affiliation-city":"Salamanca","affiliation-country":"Spain"}],"doi":"10.1007/s40265-016-0573-4","title":"Practical Considerations for the Use of Daratumumab, a Novel CD38 Monoclonal Antibody, in Myeloma","journalName":"Drugs"},{"@_fa":"true","prism:url":"http://api.elsevier.com/content/abstract/scopus_id/84963588903","dc:creator":"Malard F.","prism:issn":"00064971","prism:eIssn":"15280020","citedby-count":"0","affiliation":[{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60028048","afid":"60028048","affilname":"Centre Hospitalier Universitaire de Nantes","name-variant":[{"@_fa":"true","$":"CHU"}],"affiliation-city":"Nantes","affiliation-country":"France"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60000905","afid":"60000905","affilname":"Inserm","name-variant":[{"@_fa":"true","$":"INSERM"}],"affiliation-city":"Paris","affiliation-country":"France"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60001422","afid":"60001422","affilname":"Universite Pierre et Marie Curie","name-variant":[{"@_fa":"true","$":"Université Pierre et Marie Curie"}],"affiliation-city":"Paris","affiliation-country":"France"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60000905","afid":"60000905","affilname":"Inserm","name-variant":[{"@_fa":"true","$":"INSERM"}],"affiliation-city":"Paris","affiliation-country":"France"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60001422","afid":"60001422","affilname":"Universite Pierre et Marie Curie","name-variant":[{"@_fa":"true","$":"Université Pierre et Marie Curie"}],"affiliation-city":"Paris","affiliation-country":"France"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60046714","afid":"60046714","affilname":"Etablissement Francais du Sang","affiliation-city":"Saint-Denis-la-Plaine","affiliation-country":"France"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60105569","afid":"60105569","affilname":"Centre de Recherche en Cancerologie Nantes Angers","name-variant":[{"@_fa":"true","$":"INSERM"}],"affiliation-city":"Nantes","affiliation-country":"France"},{"@_fa":"true","affiliation-url":"http://api.elsevier.com/content/affiliation/affiliation_id/60046714","afid":"60046714","affilname":"Etablissement Francais du Sang","affiliation-city":"Saint-Denis-la-Plaine","affiliation-country":"France"}],"doi":"10.1182/blood-2015-12-688739","title":"Larger number of invariant natural killer T cells in PBSC allografts correlates with improved GVHD-free and progression-free survival","journalName":"Blood"}],"id":"14527450700","score":559.637
          }
      ];
    }
  }
})();
